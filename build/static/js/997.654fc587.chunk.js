"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[997],{7997:function(t,n,e){e.r(n);var s=e(3433),i=e(9439),u=e(3216),r=e(2791),a=e(9078),c=e(9811),o=e(3153),d=e(5965),l=e(3737),f=e(5680),p=e(4961),h=e(184),m=(0,u.zo)("div",{width:"100%",height:50,marginTop:10,marginBottom:5,display:"flex",justifyContent:"center"});n.default=function(t){var n=t.targetClass,e=t.youRemain,u=(0,o.C)((function(t){return t})).attendency,a=(0,r.useState)([]),d=(0,i.Z)(a,2),g=d[0],j=d[1];(0,r.useEffect)((function(){var t=[];u.studentList&&u.studentList.map((function(e){return e.class===n.class?t=[].concat((0,s.Z)(t),[e]):t})),j(t)}),[u.studentList]);var y=(0,r.useState)(""),C=(0,i.Z)(y,2),b=C[0],v=C[1],k=(0,o.T)(),w=["\uacb0\uc11d","\uc870\ud1f4","\ub0a8\uc74c","\uc544\ud514","\uac4d\uc27c","\uadc0\uac00"];return(0,r.useEffect)((function(){g&&g.map((function(t){return"\ub0a8\uc74c"===t.status?e(t):null}))}),[g]),(0,h.jsxs)("div",{style:{border:"1px solid",textAlign:"center",paddingBottom:5},children:[(0,h.jsx)(m,{children:c.bW&&c.bW.map((function(t){return(0,h.jsxs)(p.a_,{border:b!==t,onClick:function(){return function(t){v(t);var n=[];g&&g.map((function(t){var i=w.find((function(n){return n===t.status}));return i&&"\ub0a8\uc74c"===t.status&&e(t),i?n=[].concat((0,s.Z)(n),[t]):i?n:n=[].concat((0,s.Z)(n),[t])})),k((0,l.Ok)({targetClass:n,status:t})),k((0,f.wV)({state:!0,message:"\ud559\uc0dd\ub4e4\uc744 \uc77c\uad04\ucc98\ub9ac \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",okBtn:"\ucc98\ub9ac",cancelBtn:"\ucde8\uc18c",type:"attendencyHandler"}))}(t)},margin:"0 5px",children:["\uc77c\uad04 ",t]},t)}))}),g&&g.map((function(t){return(0,h.jsx)(x,{dispatch:k,donotApplyList:w,student:t,multiStatus:b},t.name||t.phone[2])}))]})};var x=function(t){var n=t.student,e=t.multiStatus,s=t.dispatch,o=t.donotApplyList,l=(0,a.F)().screen,f=(0,u.zo)("div",{display:"flex",flexFlow:l.width>767?"row":"column",justifyContent:"space-between",alignItems:"center",padding:"0 10px"});(0,r.useEffect)((function(){o.find((function(t){return t===n.status}))?y(""):e.length>0&&y(e)}),[e,n]);var m=(0,r.useState)(""),x=(0,i.Z)(m,2),j=x[0],y=x[1],C=(0,r.useState)(!1),b=(0,i.Z)(C,2),v=b[0],k=b[1],w=function(t,n){console.log(t,n),t.status===n?(y(""),k(!1)):(y(n),k(!0))};return(0,h.jsxs)(f,{children:[(0,h.jsxs)("span",{style:{width:200,display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid",height:50,borderRadius:3},children:[n.name,": ",n.status]}),(0,h.jsxs)(p.Ci,{justifyContent:"center",padding:5,children:[c.bW&&c.bW.map((function(t){return(0,h.jsx)(g,{onClick:w,student:n,singleStatus:j,button:t,screen:l},t)})),v&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(p.a_,{onClick:function(){s((0,d.xt)({type:"teacher",student:n,status:j}))},margin:"0 5px",fontSize:l.width>767?20:12,children:"\uc801\uc6a9"}),(0,h.jsx)(p.a_,{onClick:function(){y(""),k(!1)},fontSize:l.width>767?20:12,margin:"0 5px",border:!0,children:"\ucde8\uc18c"})]})]})]},n.name||n.phone[2])},g=function(t){var n=t.student,e=t.button,s=t.onClick,u=t.singleStatus,a=t.screen,c=(0,r.useState)(!0),o=(0,i.Z)(c,2),d=o[0],l=o[1];return(0,r.useEffect)((function(){n.status===e?l(!1):l(u!==e)}),[n,u,e]),(0,h.jsx)(p.a_,{border:d,onClick:function(){return s(n,e)},margin:"0 5px",fontSize:a.width>767?20:12,children:e},e)}}}]);
//# sourceMappingURL=997.654fc587.chunk.js.map